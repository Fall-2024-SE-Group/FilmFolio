{% extends 'shared/layout.html' %}

{% block extracss %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/signup.css') }}">
{% endblock %}

{% block extrajs %}
<script defer src="{{ url_for('static', filename='js/signup.js') }}"></script>
{% endblock %}

{% block maincontent %}
<div class="container" style="margin-top: 60px;" id="centralDivLanding">
  <div class="heading1">
    <h2 class="page-title"><center>🎬 PopcornPicks🍿: Signup for an Account! 🎬</center></h2>
    
    <!-- Display flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="alert alert-{{ messages[0][0] }}" role="alert">
                {% for category, message in messages %}
                    <p>{{ message }}</p>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}
    
    <br>
    <!-- Use Flask-WTF's form object -->
    <form id="signup-form" method="post" action="{{ url_for('signup') }}">
      {{ form.hidden_tag() }} <!-- CSRF token for security -->
      <div class="form-group">
        <label for="username_label">Username</label>
        {{ form.username(class="form-control", placeholder="Enter Username") }}
      </div>
      <div class="form-group">
        <label for="first_name_label">First Name</label>
        {{ form.first_name(class="form-control", placeholder="Enter First Name") }}
      </div>
      <div class="form-group">
        <label for="last_name_label">Last Name</label>
        {{ form.last_name(class="form-control", placeholder="Enter Last Name") }}
      </div>
      <div class="form-group">
        <label for="email_label">Email Address</label>
        {{ form.email(class="form-control", placeholder="Enter Email") }}
      </div>
      <div class="form-group">
        <label for="password_label">Password</label>
        {{ form.password(class="form-control", placeholder="Enter Password") }}
      </div>
      <br>
      <button type="submit" class="btn btn-primary">Create Account</button>
    </form>
  </div>
</div>

<!-- Below code is using bootstrap to display a loading circle when needed -->
<div class="d-none" id="loaderLanding">
  <div class="spinner-border" role="status">
    <span class="sr-only"></span>
  </div>
</div>
{% endblock %}
